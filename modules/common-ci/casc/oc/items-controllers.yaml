removeStrategy:
  rbac: SYNC
  items: NONE
items:
  # 1.2.2 | Configuration of one (1) Controller
  - kind: managedController
    name: controller-alpha
    configuration:
      kubernetes:
        # image: CloudBees CI - Managed Controller - 2.332.3.2
        memory: 3072
        fsGroup: "1000"
        cpus: 1.0
        readinessTimeoutSeconds: 5
        livenessInitialDelaySeconds: 300
        readinessInitialDelaySeconds: 30
        disk: 5
        readinessFailureThreshold: 100
        livenessTimeoutSeconds: 10
        # storageClassName: my-storage-class
        domain: controller-alpha
        # javaOptions: -XshowSettings:vm -XX:+AlwaysPreTouch -XX:+UseG1GC  -XX:+ParallelRefProcEnabled
        #   -XX:+UseStringDeduplication -Dhudson.slaves.NodeProvisioner.initialDelay=0
        # nodeSelectors: dedicated=sda-ci
        # yaml: |-
        #   ---
        #   kind: StatefulSet
        #   spec:
        #     template:
        #       metadata:
        #         annotations:
        #           cluster-autoscaler.kubernetes.io/safe-to-evict: "false"
        #       spec:
        #         tolerations:
        #         - key: "dedicated"
        #           operator: "Equal"
        #           value: "sda-ci"
        #           effect: "NoSchedule"
    properties:
      - configurationAsCode:
          bundle: "general"
  - kind: managedController
    name: controller-beta
    configuration:
      kubernetes:
        # image: CloudBees CI - Managed Controller - 2.332.3.2
        memory: 3072
        fsGroup: "1000"
        cpus: 1.0
        readinessTimeoutSeconds: 5
        livenessInitialDelaySeconds: 300
        readinessInitialDelaySeconds: 30
        disk: 5
        readinessFailureThreshold: 100
        livenessTimeoutSeconds: 10
        domain: controller-beta
    properties:
      - configurationAsCode: {}
